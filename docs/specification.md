# 鳥取県GISポータルサイト 設計書

## 1. プロジェクト概要

### 1.1 目的

鳥取県内の14市町村の公開用GISを束ねるポータルサイトを作成する。

### 1.2 ドメイン

`tottori-geomap.jp`

### 1.3 参考サイト

現在の「とっとりWebマップ」トップページ  
https://tottori-webmap.jp/（想定）

---

## 2. 要件定義

### 2.1 機能要件

| 項目 | 内容 |
|------|------|
| ページ構成 | 1画面のみ（シングルページ） |
| コンテンツ | 各団体の公開用GISサイトへのリンク |
|            | オープンデータサイトへのリンク |
| 対象団体 | 鳥取県内4市14町1村（計19自治体） |

### 2.2 非機能要件

| 項目 | 内容 |
|------|------|
| レスポンシブ対応 | PC・タブレット・スマートフォンに対応 |
| 技術制約 | 純粋なHTML/CSSのみ（JavaScriptなし） |
| 拡張性 | 市町村の追加・削除時にレイアウトが崩れないこと |
| ブラウザ対応 | 主要モダンブラウザ（Chrome, Safari, Firefox, Edge） |

---

## 3. 対象市町村一覧

### 3.1 市（4市）

| No | 市名 | 読み |
|----|------|------|
| 1 | 鳥取市 | とっとりし |
| 2 | 米子市 | よなごし |
| 3 | 倉吉市 | くらよしし |
| 4 | 境港市 | さかいみなとし |

### 3.2 町（14町）

| No | 町名 | 読み | 郡 |
|----|------|------|-----|
| 5 | 岩美町 | いわみちょう | 岩美郡 |
| 6 | 若桜町 | わかさちょう | 八頭郡 |
| 7 | 智頭町 | ちづちょう | 八頭郡 |
| 8 | 八頭町 | やずちょう | 八頭郡 |
| 9 | 三朝町 | みささちょう | 東伯郡 |
| 10 | 湯梨浜町 | ゆりはまちょう | 東伯郡 |
| 11 | 琴浦町 | ことうらちょう | 東伯郡 |
| 12 | 北栄町 | ほくえいちょう | 東伯郡 |
| 13 | 大山町 | だいせんちょう | 西伯郡 |
| 14 | 南部町 | なんぶちょう | 西伯郡 |
| 15 | 伯耆町 | ほうきちょう | 西伯郡 |
| 16 | 日南町 | にちなんちょう | 日野郡 |
| 17 | 日野町 | ひのちょう | 日野郡 |
| 18 | 江府町 | こうふちょう | 日野郡 |

### 3.3 村（1村）

| No | 村名 | 読み | 郡 |
|----|------|------|-----|
| 19 | 日吉津村 | ひえづそん | 西伯郡 |

---

## 4. 画面設計

### 4.1 ページ構成

```
┌─────────────────────────────────────────┐
│              ヘッダー                    │
│  ・サイトタイトル/ロゴ                   │
│  ・サイト説明文                          │
│  ・（任意）鳥取県の風景画像              │
├─────────────────────────────────────────┤
│              メインコンテンツ            │
│                                         │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐    │
│  │カード│ │カード│ │カード│ │カード│    │
│  │ 1   │ │ 2   │ │ 3   │ │ 4   │    │
│  └─────┘ └─────┘ └─────┘ └─────┘    │
│                                         │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐    │
│  │カード│ │カード│ │カード│ │カード│    │
│  │ 5   │ │ 6   │ │ 7   │ │ 8   │    │
│  └─────┘ └─────┘ └─────┘ └─────┘    │
│                 ...                     │
├─────────────────────────────────────────┤
│         オープンデータセクション         │
│  ・オープンデータサイトへのリンク        │
├─────────────────────────────────────────┤
│              フッター                    │
│  ・コピーライト                          │
│  ・運営情報                              │
└─────────────────────────────────────────┘
```

### 4.2 レスポンシブブレイクポイント

| デバイス | 画面幅 | カード列数 |
|----------|--------|------------|
| PC（大） | 1200px以上 | 4列 |
| PC（小）/タブレット | 768px〜1199px | 3列 |
| タブレット（縦） | 576px〜767px | 2列 |
| スマートフォン | 575px以下 | 1列 |

### 4.3 カードコンポーネント仕様

各市町村のカードは以下の要素で構成：

```
┌─────────────────────┐
│    サムネイル画像    │
│   （地図プレビュー）  │
├─────────────────────┤
│  市町村名            │
│  簡単な説明文        │
│  ─────────────────  │
│  🔗 地図を見る       │
└─────────────────────┘
```

| 要素 | 内容 |
|------|------|
| サムネイル画像 | 各市町村の地図プレビュー画像（固定サイズ） |
| 市町村名 | 自治体名称 |
| 説明文 | 簡単な説明（任意） |
| リンク | 公開用GISサイトへのリンクボタン |

---

## 5. デザイン仕様

### 5.1 カラースキーム

| 用途 | 色 | カラーコード |
|------|-----|--------------|
| プライマリカラー | 青系（とっとりWebマップに準拠） | #0066CC（仮） |
| セカンダリカラー | 白 | #FFFFFF |
| テキスト（通常） | 黒 | #333333 |
| テキスト（補助） | グレー | #666666 |
| 背景色 | 薄いグレー | #F5F5F5 |
| カード背景 | 白 | #FFFFFF |
| ホバー時 | 薄い青 | #E6F0FA |

### 5.2 フォント

| 用途 | フォント |
|------|----------|
| 日本語 | "Hiragino Sans", "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif |
| 英数字 | -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif |

### 5.3 サイズ規定

| 要素 | サイズ |
|------|--------|
| カード幅 | PC: 280px / SP: 100% |
| カード画像高さ | 160px |
| カード間隔 | 20px |
| ページ最大幅 | 1280px |
| ページ左右余白 | PC: 40px / SP: 16px |

---

## 6. ファイル構成

```
tottori-top/
├── index.html          # メインHTMLファイル
├── css/
│   └── style.css       # スタイルシート
├── images/
│   ├── logo.png        # サイトロゴ（任意）
│   ├── header-bg.jpg   # ヘッダー背景画像（任意）
│   └── municipalities/ # 市町村サムネイル画像
│       ├── tottori.jpg
│       ├── yonago.jpg
│       └── ...
└── docs/
    └── specification.md # 本設計書
```

---

## 7. HTML構造

### 7.1 セマンティック構造

```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>鳥取県GISポータル</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="site-header">
    <!-- ロゴ、タイトル、説明文 -->
  </header>

  <main class="main-content">
    <section class="municipalities">
      <h2>市町村GISマップ</h2>
      <div class="card-grid">
        <!-- 市町村カード（繰り返し） -->
        <article class="card">
          ...
        </article>
      </div>
    </section>

    <section class="open-data">
      <h2>オープンデータ</h2>
      <!-- オープンデータリンク -->
    </section>
  </main>

  <footer class="site-footer">
    <!-- コピーライト等 -->
  </footer>
</body>
</html>
```

---

## 8. CSS設計方針

### 8.1 基本方針

- CSS Grid / Flexboxを使用したレイアウト
- カード追加・削除時に自動でリフローするグリッドレイアウト
- モバイルファーストのレスポンシブ設計

### 8.2 カードグリッドの実装

```css
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
}
```

この実装により、カードの追加・削除時もレイアウトが崩れない。

---

## 9. スケジュール

| マイルストーン | 期日 |
|---------------|------|
| ラフデザイン完成 | 2026年1月下旬 |
| 最終版完成 | 2026年2月上旬 |

---

---

## 9.5 サムネイル画像の自動生成

### 9.5.1 概要

各市町村カードに表示するサムネイル画像は、開発時点ではLorem Picsumのプレースホルダー画像を使用する。地図APIは取得条件やURL確定待ちのため、安定表示を優先して一時的に差し替える。

### 9.5.2 要件

- 画像サイズ: 幅600px × 高さ400px（カード表示時は縮小）
- 19市町村で異なる画像が表示されるよう `random` パラメータを付与する
- 画像読み込み失敗時のフォールバック表示を維持する
- 画像の遅延読み込み（loading="lazy"）を適用する

### 9.5.3 実装方法

Lorem Picsumの画像URLを使用する。

画像URL形式:
```
https://picsum.photos/600/400?random={番号}
```
番号は1〜19を割り当てる。

### 9.5.4 市町村座標一覧（将来の拡張用）

現行のLorem Picsum運用では未使用。地図画像に戻す際の参考として保持する。

| 市町村名 | 緯度 | 経度 | ズーム |
|----------|------|------|--------|
| 鳥取市 | 35.5011 | 134.2351 | 12 |
| 米子市 | 35.4283 | 133.3311 | 12 |
| 倉吉市 | 35.4299 | 133.8247 | 12 |
| 境港市 | 35.5420 | 133.2319 | 12 |
| 岩美町 | 35.5372 | 134.3289 | 13 |
| 若桜町 | 35.3391 | 134.3978 | 13 |
| 智頭町 | 35.2597 | 134.2267 | 13 |
| 八頭町 | 35.4047 | 134.2561 | 13 |
| 三朝町 | 35.4000 | 133.8606 | 13 |
| 湯梨浜町 | 35.4833 | 133.8667 | 13 |
| 琴浦町 | 35.4833 | 133.6833 | 13 |
| 北栄町 | 35.4833 | 133.7500 | 13 |
| 日吉津村 | 35.4500 | 133.3833 | 13 |
| 大山町 | 35.4500 | 133.5000 | 13 |
| 南部町 | 35.3333 | 133.3333 | 13 |
| 伯耆町 | 35.3667 | 133.4333 | 13 |
| 日南町 | 35.1500 | 133.3000 | 13 |
| 日野町 | 35.2167 | 133.4500 | 13 |
| 江府町 | 35.2833 | 133.4833 | 13 |

### 9.5.5 実装タスク

1. index.html の各カード画像部分を Lorem Picsum のURLに置き換える
2. `?random=1` 〜 `?random=19` を付与して画像が重複しないようにする
3. 画像読み込み失敗時のフォールバック表示を維持する
4. 画像の遅延読み込み（loading="lazy"）を適用する

```

---

## 9.5 サムネイル画像の自動生成

### 9.5.1 概要

各市町村カードに表示するサムネイル画像は、開発時点ではLorem Picsumのプレースホルダー画像を使用する。地図APIは取得条件やURL確定待ちのため、安定表示を優先して一時的に差し替える。

### 9.5.2 要件

- 画像サイズ: 幅600px × 高さ400px（カード表示時は縮小）
- 19市町村で異なる画像が表示されるよう `random` パラメータを付与する
- 画像読み込み失敗時のフォールバック表示を維持する
- 画像の遅延読み込み（loading="lazy"）を適用する

### 9.5.3 実装方法

Lorem Picsumの画像URLを使用する。

画像URL形式:
```
https://picsum.photos/600/400?random={番号}
```
番号は1〜19を割り当てる。

### 9.5.4 市町村座標一覧（将来の拡張用）

現行のLorem Picsum運用では未使用。地図画像に戻す際の参考として保持する。

| 市町村名 | 緯度 | 経度 | ズーム |
|----------|------|------|--------|
| 鳥取市 | 35.5011 | 134.2351 | 12 |
| 米子市 | 35.4283 | 133.3311 | 12 |
| 倉吉市 | 35.4299 | 133.8247 | 12 |
| 境港市 | 35.5420 | 133.2319 | 12 |
| 岩美町 | 35.5372 | 134.3289 | 13 |
| 若桜町 | 35.3391 | 134.3978 | 13 |
| 智頭町 | 35.2597 | 134.2267 | 13 |
| 八頭町 | 35.4047 | 134.2561 | 13 |
| 三朝町 | 35.4000 | 133.8606 | 13 |
| 湯梨浜町 | 35.4833 | 133.8667 | 13 |
| 琴浦町 | 35.4833 | 133.6833 | 13 |
| 北栄町 | 35.4833 | 133.7500 | 13 |
| 日吉津村 | 35.4500 | 133.3833 | 13 |
| 大山町 | 35.4500 | 133.5000 | 13 |
| 南部町 | 35.3333 | 133.3333 | 13 |
| 伯耆町 | 35.3667 | 133.4333 | 13 |
| 日南町 | 35.1500 | 133.3000 | 13 |
| 日野町 | 35.2167 | 133.4500 | 13 |
| 江府町 | 35.2833 | 133.4833 | 13 |

### 9.5.5 実装タスク

1. index.html の各カード画像部分を Lorem Picsum のURLに置き換える
2. `?random=1` 〜 `?random=19` を付与して画像が重複しないようにする
3. 画像読み込み失敗時のフォールバック表示を維持する
4. 画像の遅延読み込み（loading="lazy"）を適用する

```

---

## 10. 今後の検討事項

- [ ] 各市町村のGISサイトURLの確定
- [ ] オープンデータサイトのURLの確定
- [ ] ヘッダー背景画像の選定
- [ ] 各市町村サムネイル画像の準備
- [ ] サイトロゴの有無・デザイン
- [ ] 鳥取県への確認事項の整理

---

## 更新履歴

| 日付 | 版 | 内容 |
|------|-----|------|
| 2026/01/27 | 1.0 | 初版作成 |
