# OpenAI Codex 検証結果サマリー

## 検証概要

| 項目 | 内容 |
|------|------|
| 検証期間 | 2026年1月26日 |
| 検証者 | 大塚昇 |
| 対象ツール | OpenAI Codex CLI v0.91.0 (gpt-5.2-codex) |
| 検証プロジェクト | 鳥取県GISポータルサイト（tottori-top-codex） |
| GitHubリポジトリ | https://github.com/geolonia/tottori-top-codex |

---

## 検証タスク

Claude Code検証と同一の静的HTMLページ（鳥取県GISポータルサイト）の新規作成を通じて、Codexの実用性とSDD（Spec Driven Development）との相性を検証した。

### 実施内容

1. **環境構築** - Codex CLI のインストールと認証（npm経由）
2. **リポジトリ作成** - geolonia/tottori-top-codex をGitHubに作成
3. **仕様書配置** - 前回と同一のspecification.mdを使用
4. **実装** - 仕様書に基づいてHTML/CSSを生成
5. **仕様変更対応** - サムネイル画像をLorem Picsumに変更
6. **仕様書更新** - 実装変更内容をspecification.mdに反映

---

## 検証結果

### 総合評価

| 評価項目 | 評価 | コメント |
|----------|------|----------|
| 総合評価 | ⭐⭐⭐⭐☆ (4/5) | 実用的なレベルで使用可能、Claude Codeと同等 |

### 詳細評価

| 評価項目 | 評価 | 詳細 |
|----------|------|------|
| セットアップ容易性 | ⭐⭐⭐⭐⭐ | npmで簡単にインストール、ChatGPTアカウントで認証 |
| 仕様理解力 | ⭐⭐⭐⭐☆ | マークダウン仕様書を正確に読み取り実装 |
| コード品質 | ⭐⭐⭐⭐☆ | セマンティックHTML、CSS変数、レスポンシブ対応 |
| 問題解決能力 | ⭐⭐⭐⭐☆ | 問題発生時に代替案を提示、ただし自律調査は限定的 |
| 対話性 | ⭐⭐⭐⭐☆ | 不明点を確認してから実装、適切な応答 |
| Git/GitHub連携 | ⭐⭐⭐☆☆ | コミットは可能、プッシュはネットワーク制限あり |
| 作業速度 | ⭐⭐⭐⭐☆ | HTML/CSS生成は約2分20秒、全体で約40分 |

### 作業時間・ターン数

| 指標 | 値 |
|------|-----|
| 総作業時間 | 約40分 |
| 対話ターン数 | 5ターン |
| HTML/CSS生成時間 | 約2分20秒 |
| 仕様書更新時間 | 約1分33秒 |

---

## 良かった点

### 1. 仕様書からの実装精度が高い

- マークダウン形式の仕様書を正確に理解
- 19市町村すべてのカードを仕様通りに実装
- カラースキーム、レスポンシブブレイクポイントなど詳細な仕様に準拠
- 各市町村に適切な説明文を自動生成

### 2. 実装前の確認プロセス

- 仕様書を読んだ後、実装方針を説明してから作業開始
- 不明点（APIのバージョン、仮リンクの扱い）を事前に確認
- 開発者の意図を確認してから進める姿勢

### 3. コード品質

- セマンティックなHTML構造（header/main/footer、article要素）
- CSS変数による保守性の高いスタイル定義
- レスポンシブデザインの適切な実装
- 画像の遅延読み込み（loading="lazy"）対応

### 4. 一括処理能力

- 19市町村分のカードを一度に生成
- 画像URL変更も一括で19箇所を修正
- 仕様書の複数セクションを同時に更新

---

## 改善が必要な点・注意点

### 1. ネットワーク制限

- サンドボックス環境からのGitHubへのプッシュが不可
- curlによる外部API確認にも制限あり
- 手動でのプッシュ作業が必要

### 2. 外部APIの検証不足

- Geolonia Maps Static Image APIの動作を検証せずに実装
- API障害時の自律的な調査は限定的（Claude Codeより弱い）
- ユーザーの指示を待つ傾向

### 3. 仕様書の重複セクション

- specification.mdに重複セクション（9.5が2つ）があることを検知
- 両方を更新したが、重複の解消は提案のみ

### 4. 承認プロセス

- ファイル作成、コミットなどに都度承認が必要
- 承認ポリシーの設定で効率化可能だが、初期設定では煩雑

---

## Claude Code との比較

| 観点 | Codex | Claude Code | 備考 |
|------|-------|-------------|------|
| インストール | npm | Homebrew | どちらも容易 |
| 認証 | ChatGPTアカウント | Anthropicアカウント | 同等 |
| 仕様理解力 | ◎ | ◎ | 同等の精度 |
| コード品質 | ◎ | ◎ | 同等の品質 |
| 問題解決能力 | ○ | ◎ | Claude Codeの方が自律的 |
| Git連携 | △ | ◎ | Codexはプッシュに制限 |
| 作業速度 | 40分 | 10分 | Claude Codeが高速 |
| 承認プロセス | 都度確認 | 柔軟 | Codexは設定で改善可能 |
| 設定ファイル | AGENTS.md | CLAUDE.md | 形式は類似 |

### 総評

両ツールとも実用的なレベルでSDD開発に使用可能。Claude Codeは自律的な問題解決とGit連携に優れ、Codexは事前確認の丁寧さと設定の柔軟性に特徴がある。

---

## SDD（Spec Driven Development）との相性

### 評価: ⭐⭐⭐⭐☆ (4/5)

| 観点 | 評価 | コメント |
|------|------|----------|
| 仕様書の理解 | ◎ | マークダウン形式の仕様書を正確に解釈 |
| 仕様に基づく実装 | ◎ | 仕様書の内容を忠実に実装 |
| 仕様変更への追従 | ◎ | 変更を適切に反映、仕様書更新も対応 |
| 実装前の確認 | ◎ | 不明点を事前に確認してから実装 |

### SDDワークフローの推奨パターン（Codex版）

```
1. 仕様書を作成（人間 or AI）
2. 仕様書をCodexに読ませて実装方針の説明を依頼
3. 不明点があれば回答
4. 実装を依頼
5. 実装結果をローカルで確認
6. 仕様変更がある場合は変更を指示
7. 仕様書の更新を明示的に依頼
8. 手動でGitHubにプッシュ
```

---

## 成果物

| 成果物 | 場所 |
|--------|------|
| GitHubリポジトリ | https://github.com/geolonia/tottori-top-codex |
| メインHTML | index.html |
| スタイルシート | css/style.css |
| 設計書 | docs/specification.md |

---

## 結論

OpenAI Codexは静的サイト開発において実用的なレベルで使用可能。Claude Codeと同等の仕様理解力・コード品質を持ち、SDDとの相性も良好。

ただし、ネットワーク制限によるGit連携の制約や、承認プロセスの煩雑さなど、ワークフロー面での改善余地がある。AGENTS.mdやconfig.tomlの適切な設定により、これらの課題は軽減可能。

組織での採用にあたっては、Claude CodeとCodexの特性を理解し、プロジェクトの性質や開発者の好みに応じて使い分けることを推奨する。

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2026/01/26 | 初版作成 |
